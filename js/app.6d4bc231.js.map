{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/workers/main.js","webpack:///./src/app.vue?c8b1","webpack:///src/app.vue","webpack:///./src/app.vue?a3e2","webpack:///./src/app.vue","webpack:///./src/pages/home.vue?d23e","webpack:///./src/lib/math.js","webpack:///src/pages/home.vue","webpack:///./src/pages/home.vue?8c8f","webpack:///./src/pages/home.vue?98c1","webpack:///./src/pages/redistricter.vue?bf67","webpack:///src/pages/redistricter.vue","webpack:///./src/pages/redistricter.vue?9466","webpack:///./src/pages/redistricter.vue?b4d5","webpack:///./src/router/index.js","webpack:///./src/plugins/filters.js","webpack:///./src/main.js","webpack:///./src/workers/main.js?2f24","webpack:///./src/pages/redistricter.vue?c557","webpack:///./src/pages/home.vue?eb73","webpack:///./src/app.vue?bb9e"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","this","oldJsonpFunction","slice","inst","_vm","_h","$createElement","_c","_self","attrs","staticRenderFns","component","staticClass","style","top","selectedBlock","position","y","left","x","_e","ref","on","onMouseMove","$event","seedIndex","_v","_l","val","_s","seedMovement","populationPercentDiff","numUnchosenBlocks","districtInfo","targetPopulation","population","model","callback","$$v","overlayMode","expression","getOverlays","drawPhiRegions","isWorking","restart","useTestData","numBlocks","dataFile","entry","domProps","url","numDistricts","useSorting","showAssignmentRegions","selectBlocks","adjustSeeds","runUntilStable","redistribute","randomizeSeeds","run","statusLog","worker","require","f","wrap","distanceSq","q","init","drawOverlays","getDistrictInfo","working","drawRegions","loading","log","msg","container","scrollTop","scrollHeight","seedCoords","indexOf","seed","ctx","putImageData","clearRect","canvas","width","height","isDone","step","adjustAndRestart","adjustWeightsAndRestart","initRedistricter","then","console","error","e","seeds","Vue","use","Router","routes","path","Home","Redistricter","redirect","titleCase","str","split","map","w","_capitalize","join","numberRanges","range","suffix","decimals","Infinity","shortNumber","cfg","_find","toFixed","duration","Math","round","hours","floor","minutes","seconds","fmt","truncate","len","sfx","substr","install","filter","_filter","Buefy","defaultContainerElement","Filters","config","productionTip","render","h","App","router","$mount","Worker"],"mappings":"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","file":"js/app.6d4bc231.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/redistrict-test/\";\n\n \tvar jsonpArray = this[\"webpackJsonp\"] = this[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import { wrap } from 'comlink';var inst;var worker = require('!worker-loader?{}!/Users/jep5/Documents/github/nist/redistrict-test/node_modules/comlink-loader/dist/comlink-worker-loader.js!/Users/jep5/Documents/github/nist/redistrict-test/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js??ref--13-0!/Users/jep5/Documents/github/nist/redistrict-test/src/workers/main.js');export default function f() {inst = inst || wrap(worker());return (this instanceof f) ? wrap(worker()) : inst;}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\n#app\n  router-view\n</template>\n\n<script>\n// import PubSub from '@/lib/pubsub'\n\nexport default {\n  name: 'App'\n  , data: () => ({\n  })\n}\n</script>\n\n<style lang=\"sass\" scoped>\n// #app\n//   position: fixed\n//   top: 0\n//   left: 0\n//   right: 0\n//   bottom: 0\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./app.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./app.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./app.vue?vue&type=template&id=fdb58e64&scoped=true&lang=pug&\"\nimport script from \"./app.vue?vue&type=script&lang=js&\"\nexport * from \"./app.vue?vue&type=script&lang=js&\"\nimport style0 from \"./app.vue?vue&type=style&index=0&id=fdb58e64&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fdb58e64\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"home\"},[_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column\"},[_c('div',{staticClass:\"canvas\"},[(_vm.selectedBlock)?_c('div',{staticClass:\"selected-block\",style:({ top: _vm.selectedBlock.position.y + 'px', left: _vm.selectedBlock.position.x + 'px' })}):_vm._e(),_c('canvas',{ref:\"canvas\",attrs:{\"width\":\"500\",\"height\":\"500\"}}),_c('canvas',{ref:\"canvasTop\",attrs:{\"width\":\"500\",\"height\":\"500\"},on:{\"mousemove\":_vm.onMouseMove,\"mouseleave\":function($event){_vm.seedIndex = -1}}})])]),_c('div',{staticClass:\"column\"},[_c('pre',[_vm._v(\"== Block Population Statistics ==\\n\"),_vm._l((_vm.blockStatistics),function(val,key){return [_vm._v(_vm._s(key)+\": \"+_vm._s(val)+\"\\n\")]})],2),_c('pre',[_vm._v(\"== Districts ==\\nseed movement: \"+_vm._s(_vm.seedMovement)+\"\\npopulation percent diff: \"+_vm._s(_vm.populationPercentDiff)+\"%\\nnumber of unchosen blocks: \"+_vm._s(_vm.numUnchosenBlocks))]),_c('pre',[_vm._v(\"== Selected District ==\\ndistrict: \"+_vm._s(_vm.seedIndex)+\"\\ntarget population: \"+_vm._s(_vm.districtInfo.targetPopulation)+\"\\npopulation: \"+_vm._s(_vm.districtInfo.population)+\"\\nneeds: \"+_vm._s(_vm.districtInfo.targetPopulation - _vm.districtInfo.population))]),(_vm.selectedBlock)?_c('pre',[_vm._v(\"block (\"+_vm._s(_vm.selectedBlock.position.x)+\", \"+_vm._s(_vm.selectedBlock.position.y)+\")\\npopulation: \"+_vm._s(_vm.selectedBlock.population))]):_vm._e()])]),_c('div',{staticClass:\"controls\"},[_c('b-field',{attrs:{\"grouped\":\"\"}},[_c('b-field',[_c('b-select',{model:{value:(_vm.overlayMode),callback:function ($$v) {_vm.overlayMode=$$v},expression:\"overlayMode\"}},[_c('option',{attrs:{\"value\":\"ranks\"}},[_vm._v(\"Rank maps\")]),_c('option',{attrs:{\"value\":\"phi\"}},[_vm._v(\"Phi maps\")])])],1),_c('b-field',[_c('b-button',{on:{\"click\":_vm.getOverlays}},[_vm._v(\"Draw Overlays\")])],1),_c('b-field',[_c('b-button',{on:{\"click\":_vm.drawPhiRegions}},[_vm._v(\"Draw Phi Gradients\")])],1)],1),_c('b-field',{attrs:{\"grouped\":\"\"}},[_c('b-field',[_c('b-button',{staticClass:\"is-warning\",attrs:{\"loading\":_vm.isWorking},on:{\"click\":_vm.restart}},[_vm._v(\"Restart\")])],1),_c('b-field',[_c('b-switch',{model:{value:(_vm.useTestData),callback:function ($$v) {_vm.useTestData=$$v},expression:\"useTestData\"}},[_vm._v(\"Use Test Data\")])],1),_c('b-field',[(_vm.useTestData)?_c('b-input',{attrs:{\"type\":\"number\"},model:{value:(_vm.numBlocks),callback:function ($$v) {_vm.numBlocks=$$v},expression:\"numBlocks\"}}):_c('b-select',{model:{value:(_vm.dataFile),callback:function ($$v) {_vm.dataFile=$$v},expression:\"dataFile\"}},_vm._l((_vm.DATAFILES),function(entry){return _c('option',{domProps:{\"value\":entry.url}},[_vm._v(_vm._s(entry.name))])}),0)],1)],1),_c('b-field',{attrs:{\"grouped\":\"\"}},[_c('b-field',{attrs:{\"label\":\"Number of Districts\"}},[_c('b-input',{attrs:{\"type\":\"number\"},model:{value:(_vm.numDistricts),callback:function ($$v) {_vm.numDistricts=$$v},expression:\"numDistricts\"}})],1)],1),_c('b-field',{staticClass:\"is-marginless\",attrs:{\"grouped\":\"\"}},[_c('b-field',[_c('b-switch',{model:{value:(_vm.useSorting),callback:function ($$v) {_vm.useSorting=$$v},expression:\"useSorting\"}},[_vm._v(\"Use Sorting\")])],1),_c('b-field',[_c('b-switch',{model:{value:(_vm.showAssignmentRegions),callback:function ($$v) {_vm.showAssignmentRegions=$$v},expression:\"showAssignmentRegions\"}},[_vm._v(\"Show Assignment Regions\")])],1)],1),_c('b-field',{attrs:{\"grouped\":\"\"}},[_c('b-field',[_c('b-button',{attrs:{\"loading\":_vm.isWorking},on:{\"click\":_vm.selectBlocks}},[_vm._v(\"Select Blocks\")])],1),_c('b-field',[_c('b-button',{attrs:{\"loading\":_vm.isWorking},on:{\"click\":_vm.adjustSeeds}},[_vm._v(\"Adjust Seeds\")])],1),_c('b-field',[_c('b-button',{attrs:{\"loading\":_vm.isWorking},on:{\"click\":_vm.runUntilStable}},[_vm._v(\"Stablize Seeds\")])],1),_c('b-field',[_c('b-button',{attrs:{\"loading\":_vm.isWorking},on:{\"click\":_vm.redistribute}},[_vm._v(\"Redistribute\")])],1),_c('b-field',[_c('b-button',{staticClass:\"is-primary\",attrs:{\"loading\":_vm.isWorking},on:{\"click\":_vm.randomizeSeeds}},[_vm._v(\"Reshuffle Seeds\")])],1)],1),_c('b-field',{attrs:{\"grouped\":\"\"}},[_c('b-field',[_c('b-button',{staticClass:\"is-primary is-large\",attrs:{\"loading\":_vm.isWorking},on:{\"click\":_vm.run}},[_vm._v(\"Redistrict!\")])],1)],1)],1),_c('pre',{ref:\"log\",staticClass:\"status-log\"},[_vm._v(_vm._s(_vm.statusLog))])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import _ from 'lodash'\n\nexport function lerp(a, b, t) {\n  return a * (1 - t) + b * t\n}\n\nexport function distanceSq(p, q){\n  let x = p.x - q.x\n  let y = p.y - q.y\n  return x*x + y*y\n}\n\nexport function distance(p, q){\n  return Math.sqrt(distanceSq(p, q))\n}\n\nexport function getCentroid( coords = [], weights ){\n  const hasArrays = Array.isArray(coords[0])\n  let x = 0\n  let y = 0\n  let l = coords.length\n  let totalWeight = 0\n\n  for (let i = 0; i < l; i++){\n    let w = weights ? weights[i] : 1\n    let p = coords[i]\n    if ( hasArrays ){\n      x += p[0] * w\n      y += p[1] * w\n    } else {\n      x += p.x * w\n      y += p.y * w\n    }\n    totalWeight += w\n  }\n\n  x /= totalWeight\n  y /= totalWeight\n\n  return {x, y}\n}\n\nexport function getRandomPoints(n, widthOrBounds, height){\n  let bounds = height === undefined ? widthOrBounds : {\n    x1: 0\n    , y1: 0\n    , x2: widthOrBounds\n    , y2: height\n  }\n  return _.times(n).map(() => {\n    let x = lerp(bounds.x1, bounds.x2, Math.random())\n    let y = lerp(bounds.y1, bounds.y2, Math.random())\n    return { x, y }\n  })\n}\n\nexport function RunningStatistics( initialData = [] ){\n  let m = 0\n  let s = 0\n  let n = 0\n  let _max = Number.NEGATIVE_INFINITY\n  let _min = Number.POSITIVE_INFINITY\n  let total = 0\n\n  // Push a value to a running average calculation.\n  // see [http://www.johndcook.com/blog/standard_deviation]\n  // Note: variance can be calculated from the \"s\" value by multiplying it by `1/(n-1)`\n  function push(v){\n    n++\n    let x = v - m\n\n    // Mk = Mk-1 + (xk – Mk-1)/k\n    // Sk = Sk-1 + (xk – Mk-1)*(xk – Mk).\n    m += x / n\n    s += x * (v - m)\n\n    // max / min\n    _max = Math.max(v, _max)\n    _min = Math.min(v, _min)\n    total += v\n  }\n\n  function mean(){\n    return m\n  }\n\n  function variance(){\n    return s/(n-1)\n  }\n\n  function deviation(){\n    return Math.sqrt(variance())\n  }\n\n  function max(){ return _max }\n  function min(){ return _min }\n  function sum(){ return total }\n  function size(){ return n }\n\n  function toObject(){\n    return {\n      mean: mean()\n      , deviation: deviation()\n      , sum: sum()\n      , size: size()\n      , max: max()\n      , min: min()\n    }\n  }\n\n  for ( let i = 0, l = initialData.length; i < l; i++ ){\n    push(initialData[i])\n  }\n\n  return {\n    mean\n    , variance\n    , deviation\n    , sum\n    , size\n    , max\n    , min\n    , push\n    , toObject\n  }\n}\n\nexport function rndSimpleGaussian(mean = 0, sigma = 1){\n  let g = Math.random() + Math.random() + Math.random()\n  return 2 * sigma * (g - 1) + mean - 3\n}\n","<template lang=\"pug\">\n.home\n  .columns\n    .column\n      .canvas\n        //- b-loading(:active=\"loading\", :is-full-page=\"false\")\n        .selected-block(v-if=\"selectedBlock\", :style=\"{ top: selectedBlock.position.y + 'px', left: selectedBlock.position.x + 'px' }\")\n        canvas(ref=\"canvas\", width=\"500\", height=\"500\")\n        canvas(ref=\"canvasTop\", width=\"500\", height=\"500\", @mousemove=\"onMouseMove\", @mouseleave=\"seedIndex = -1\")\n    .column\n      pre\n        | == Block Population Statistics ==\n        |\n        template(v-for=\"(val, key) in blockStatistics\")\n          | {{ key }}: {{ val }}\n          |\n      pre\n        | == Districts ==\n        | seed movement: {{ seedMovement }}\n        | population percent diff: {{ populationPercentDiff }}%\n        | number of unchosen blocks: {{ numUnchosenBlocks }}\n      pre\n        | == Selected District ==\n        | district: {{ seedIndex }}\n        | target population: {{ districtInfo.targetPopulation }}\n        | population: {{ districtInfo.population }}\n        | needs: {{ districtInfo.targetPopulation - districtInfo.population }}\n      pre(v-if=\"selectedBlock\")\n        | block ({{ selectedBlock.position.x }}, {{ selectedBlock.position.y }})\n        | population: {{ selectedBlock.population }}\n  .controls\n    b-field(grouped)\n      b-field\n        b-select(v-model=\"overlayMode\")\n          option(value=\"ranks\") Rank maps\n          option(value=\"phi\") Phi maps\n      b-field\n        b-button(@click=\"getOverlays\") Draw Overlays\n      b-field\n        b-button(@click=\"drawPhiRegions\") Draw Phi Gradients\n    b-field(grouped)\n      b-field\n        b-button.is-warning(@click=\"restart\", :loading=\"isWorking\") Restart\n      b-field\n        b-switch(v-model=\"useTestData\") Use Test Data\n      b-field\n        b-input(v-if=\"useTestData\", v-model=\"numBlocks\", type=\"number\")\n        b-select(v-else, v-model=\"dataFile\")\n          option(v-for=\"entry in DATAFILES\", :value=\"entry.url\") {{ entry.name }}\n    b-field(grouped)\n      b-field(label=\"Number of Districts\")\n        b-input(v-model=\"numDistricts\", type=\"number\")\n\n    b-field.is-marginless(grouped)\n      b-field\n        b-switch(v-model=\"useSorting\") Use Sorting\n      b-field\n        b-switch(v-model=\"showAssignmentRegions\") Show Assignment Regions\n    b-field(grouped)\n      b-field\n        b-button(@click=\"selectBlocks\", :loading=\"isWorking\") Select Blocks\n      b-field\n        b-button(@click=\"adjustSeeds\", :loading=\"isWorking\") Adjust Seeds\n      b-field\n        b-button(@click=\"runUntilStable\", :loading=\"isWorking\") Stablize Seeds\n      b-field\n        b-button(@click=\"redistribute\", :loading=\"isWorking\") Redistribute\n      b-field\n        b-button.is-primary(@click=\"randomizeSeeds\", :loading=\"isWorking\") Reshuffle Seeds\n    b-field(grouped)\n      b-field\n        b-button.is-primary.is-large(@click=\"run\", :loading=\"isWorking\") Redistrict!\n\n  pre.status-log(ref=\"log\") {{ statusLog }}\n</template>\n\n<script>\nimport _min from 'lodash/min'\nimport _minBy from 'lodash/minBy'\nimport _throttle from 'lodash/throttle'\nimport createWorker from '@/workers/main'\nimport {\n  distanceSq\n} from '@/lib/math'\n\nconst worker = createWorker()\n\nconst DATAFILES = [\n  {\n    name: 'north carolina'\n    , url: 'https://redistricter.s3.us-east-2.amazonaws.com/north-carolina/tabblock2010_37_pophu.shp'\n    // , url: '/data/north-carolina/tabblock2010_37_pophu.shp'\n  }\n  , {\n    name: 'colorado'\n    , url: 'https://redistricter.s3.us-east-2.amazonaws.com/colorado/tabblock2010_08_pophu.shp'\n    // , url: '/data/colorado/tabblock2010_08_pophu.shp'\n  }\n]\n\nexport default {\n  name: 'Home'\n  , props: {\n  }\n  , components: {\n  }\n  , data: () => ({\n    working: 0\n    , loading: false\n    , statusLog: ''\n    , DATAFILES\n    , dataFile: DATAFILES[0].url\n\n    , useTestData: true\n    , numBlocks: 2000\n    , numDistricts: 5\n    , useSorting: true\n    , showAssignmentRegions: false\n    , seedIndex: -1\n    , selectedBlock: null\n    , overlayMode: 'ranks'\n    , overlays: null\n    , seedMovement: null\n    , populationPercentDiff: null\n    , districtInfo: {}\n    , numUnchosenBlocks: -1\n    , blockStatistics: {}\n  })\n  , mounted(){\n    this.init()\n  }\n  , computed: {\n    isWorking(){ return this.working > 0 }\n  }\n  , watch: {\n    seedIndex(index){\n      if ( Number.isFinite(index|0) ){\n        this.drawOverlays()\n        this.getDistrictInfo()\n      }\n    }\n    , overlayMode(){\n      this.getOverlays()\n    }\n    , async useSorting(){\n      await this.redistricter.enableSorting(this.useSorting)\n      await this.redistricter.restart()\n    }\n    , showAssignmentRegions(){\n      if (this.working) return\n      this.drawRegions()\n    }\n    , working: _throttle(function(working){\n      this.loading = working > 0\n    }, 200, { leading: false })\n  }\n  , methods: {\n    log(msg){\n      if ( msg === true ){\n        msg = 'done\\n'\n      } else if ( msg === false ){\n        msg = 'FAILED\\n'\n      }\n      this.statusLog += msg\n      let container = this.$refs.log\n      container.scrollTop = container.scrollHeight\n    }\n    , async init(){\n      this.working++\n      const canvas = this.$refs.canvas\n      this.redistricter = await new worker.Redistricter({\n        blocks: 0 //this.numBlocks | 0\n        , seedCount: this.numDistricts | 0\n        , width: canvas.width\n        , height: canvas.height\n        , useSorting: this.useSorting\n      })\n      await this.restart()\n      // await this.getOverlays()\n      // await this.drawOverlays()\n      this.working--\n    }\n    , async restart(){\n      this.working++\n      this.log('RESTART\\n')\n      await this.redistricter.setSeedCount(this.numDistricts | 0)\n\n      if ( this.useTestData ){\n        this.log('Initializing test blocks... ')\n        await this.redistricter.useTestBlocks(this.numBlocks | 0)\n      } else {\n        this.log('Fetching Blocks... ')\n        await this.redistricter.fetchBlocksFromShapefile(\n          this.dataFile\n          , { limit: -1 }\n        )\n      }\n\n      this.log(true)\n\n      this.blockStatistics = await this.redistricter.getBlockStats()\n\n      this.log('Getting block coords... ')\n      this.seedCoords = await this.redistricter.getSeedPositions()\n      this.blocks = await this.redistricter.getBlocks()\n      this.log(true)\n      await this.drawRegions()\n      this.working--\n    }\n    , async getOverlays(){\n      this.working++\n      let fn = this.overlayMode === 'ranks' ? 'getRankMapFor' : 'getPhiMapFor'\n      let overlays = []\n      for (let i = 0; i < this.seedCoords.length; i++){\n        let data = await this.redistricter[fn](i)\n        overlays.push(data)\n      }\n      this.overlays = overlays\n      this.working--\n    }\n    , onMouseMove(e){\n      if ( !this.seedCoords ){ return }\n      let x = e.layerX\n      let y = e.layerY\n\n      this.selectedBlock = _minBy(this.blocks, b => distanceSq({x, y}, b.position))\n      let seed = _minBy(this.seedCoords, s => distanceSq({x, y}, s))\n      this.seedIndex = this.seedCoords.indexOf(seed)\n    }\n    , drawImage(canvas, data){\n      const ctx = canvas.getContext('2d')\n      ctx.putImageData(data, 0, 0)\n    }\n    , clearCanvas(canvas){\n      const ctx = canvas.getContext('2d')\n      ctx.clearRect(0, 0, canvas.width, canvas.height)\n    }\n    , async getDistrictInfo(){\n      if ( this.seedIndex < 0 ){\n        this.districtInfo = {}\n        return\n      }\n      let district = await this.redistricter.getDistrict(this.seedIndex)\n      this.districtInfo = district\n    }\n    , async randomizeSeeds(){\n      this.working++\n      await this.redistricter.randomizeSeeds()\n      await this.drawRegions()\n      this.working--\n    }\n    , async getInfo(){\n      this.populationPercentDiff = await this.redistricter.getMaxPopulationDifferencePercentage()\n      this.numUnchosenBlocks = await this.redistricter.getNumUnchosenBlocks()\n    }\n    , async selectBlocks(nodraw){\n      this.working++\n      this.log('Selecting blocks... ')\n      this.overlays = null\n      await this.redistricter.selectBlocks()\n      await this.getInfo()\n      this.log(true)\n      if ( nodraw !== true ){\n        await this.drawRegions()\n      }\n      this.working--\n    }\n    , async runUntilStable(){\n      const threshold = 1e-6\n      do {\n        await this.selectBlocks()\n        await this.adjustSeeds(true)\n      } while ( this.seedMovement > threshold );\n      await this.selectBlocks()\n    }\n    , async adjustSeeds(nodraw){\n      this.working++\n      this.log('Adjusting seed positions... ')\n      this.seedMovement = await this.redistricter.adjustSeedPositions()\n      this.seedCoords = await this.redistricter.getSeedPositions()\n      this.blocks = await this.redistricter.getBlocks()\n      this.log(true)\n      if ( nodraw !== true ){\n        await this.drawRegions()\n      }\n      this.working--\n    }\n    , async redistribute(){\n      this.working++\n      let popDiff = this.populationPercentDiff\n      let lastDiffs = []\n      const maxRounds = 100\n      let round = 0\n      while ((round++) < maxRounds){\n        this.log(`Redistributing blocks (round ${round})... `)\n        await this.redistricter.redistribute()\n        await this.getInfo()\n        popDiff = this.populationPercentDiff\n        this.log(true)\n        await this.drawRegions()\n        if ( popDiff < 2 ){\n          if ( lastDiffs.length > 10 ){\n            lastDiffs.shift()\n\n            // test for threshold\n            let minDiffSoFar = _min(lastDiffs)\n            if ( popDiff <= minDiffSoFar ){\n              break\n            }\n          }\n\n          lastDiffs.push(popDiff)\n        }\n      }\n      this.working--\n    }\n    , async drawRegions(){\n      this.log('Drawing regions... ')\n      if ( this.showAssignmentRegions ){\n        this.regionsImage = await this.redistricter.getAssignmentMap()\n      } else {\n        this.regionsImage = await this.redistricter.getRegionMap()\n      }\n\n      this.drawImage(this.$refs.canvas, this.regionsImage)\n      this.log(true)\n    }\n    , async drawPhiRegions(){\n      this.working++\n      this.log('Drawing phi regions... ')\n      let voronoiImage = await this.redistricter.getPhiRegionMap()\n      this.drawImage(this.$refs.canvas, voronoiImage)\n      this.log(true)\n      this.working--\n    }\n    , async drawOverlays(){\n      if ( this.seedIndex < 0 || !this.overlays ) {\n        this.clearCanvas(this.$refs.canvasTop)\n        return\n      }\n      this.working++\n      this.drawImage(this.$refs.canvasTop, this.overlays[this.seedIndex])\n      this.working--\n    }\n    , async run(){\n      let start = Date.now()\n      this.log('Starting redistrict process\\n')\n      await this.runUntilStable()\n      await this.redistribute()\n      let execTime = (Date.now() - start)/1000\n      this.log(`Finished redistricting in ${execTime.toFixed(3)}s\\n`)\n    }\n  }\n}\n</script>\n\n<style lang=\"sass\" scoped>\n.home\n  padding: 1rem\n.canvas\n  position: relative\n  canvas + canvas\n    position: absolute\n    top: 0\n    left: 0\n  .selected-block\n    pointer-events: none\n    position: absolute\n    z-index: 2\n    width: 4px\n    height: 4px\n    margin-left: -1px\n    margin-top: -1px\n    border-radius: 50%\n    background: red\ncanvas\n  border: 1px solid rgba(255, 255, 255, 0.3)\n.status-log\n  font-family: monospace\n  border: 1px solid $grey\n  border-radius: 3px\n  margin: 1em 0\n  height: 400px\n  overflow-y: auto\n  box-shadow: inset 0px 1px 5px black\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./home.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./home.vue?vue&type=template&id=1dab6a8c&scoped=true&lang=pug&\"\nimport script from \"./home.vue?vue&type=script&lang=js&\"\nexport * from \"./home.vue?vue&type=script&lang=js&\"\nimport style0 from \"./home.vue?vue&type=style&index=0&id=1dab6a8c&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1dab6a8c\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrap\"},[_c('div',{staticClass:\"canvas\"},[_c('canvas',{ref:\"regionCanvas\",attrs:{\"width\":\"500\",\"height\":\"500\"}}),_c('canvas',{ref:\"canvas\",attrs:{\"width\":\"500\",\"height\":\"500\"}})]),_c('div',{staticClass:\"controls\"},[_c('p',[_vm._v(\"District Max Population Difference: \"+_vm._s(_vm.populationPercentDiff)+\"%\")]),_c('br'),(!_vm.isDone)?_c('b-field',{attrs:{\"grouped\":\"\"}},[_c('b-field',[_c('b-button',{attrs:{\"loading\":_vm.working},on:{\"click\":_vm.run}},[_vm._v(\"Run One Iteration\")])],1),_c('b-field',[_c('b-button',{attrs:{\"loading\":_vm.working},on:{\"click\":_vm.step}},[_vm._v(\"Step\")])],1)],1):_vm._e(),(_vm.isDone)?_c('b-field',{attrs:{\"grouped\":\"\"}},[_c('b-field',[_c('b-button',{attrs:{\"loading\":_vm.working},on:{\"click\":_vm.adjustAndRestart}},[_vm._v(\"Adjust Seed Positions\")])],1),_c('b-field',[_c('b-button',{attrs:{\"loading\":_vm.working},on:{\"click\":_vm.adjustWeightsAndRestart}},[_vm._v(\"Adjust Seed Weights\")])],1)],1):_vm._e()],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\n.wrap\n  .canvas\n    canvas(ref=\"regionCanvas\", width=\"500\", height=\"500\")\n    canvas(ref=\"canvas\", width=\"500\", height=\"500\")\n  .controls\n    p District Max Population Difference: {{ populationPercentDiff }}%\n    br/\n    b-field(grouped, v-if=\"!isDone\")\n      b-field\n        b-button(@click=\"run\", :loading=\"working\") Run One Iteration\n      b-field\n        b-button(@click=\"step\", :loading=\"working\") Step\n    b-field(grouped, v-if=\"isDone\")\n      b-field\n        b-button(@click=\"adjustAndRestart\", :loading=\"working\") Adjust Seed Positions\n      b-field\n        b-button(@click=\"adjustWeightsAndRestart\", :loading=\"working\") Adjust Seed Weights\n</template>\n\n<script>\n// import _times from 'lodash/times'\nimport createWorker from '@/workers/main'\n\nconst worker = createWorker()\nconst drawWorker = new createWorker()\n\nexport default {\n  name: 'Redistricter'\n  , props: {\n  }\n  , components: {\n  }\n  , data: () => ({\n    working: false\n    , seeds: null\n    , redistricter: null\n    , isDone: false\n    , iteration: 0\n    , populationPercentDiff: 0\n  })\n  , mounted(){\n    this.initRedistricter().then(() => {\n      return this.drawRegions()\n    }).catch(e => {\n      console.error(e)\n    }).finally(() => {\n      this.working = false\n    })\n  }\n  , watch: {\n    seeds(){\n      this.drawRegions()\n    }\n  }\n  , methods: {\n    async initRedistricter(){\n      this.working = true\n      const canvas = this.$refs.canvas\n      const width = canvas.width\n      const height = canvas.height\n\n      this.redistricter = await new worker.Redistricter({\n        seedCount: 10\n        , blockCount: 1000\n        , width\n        , height\n      })\n\n      await this.fetchSeeds()\n\n      await this.draw()\n      this.populationPercentDiff = await this.redistricter.getMaxPopulationDifferencePercentage()\n      this.working = false\n    }\n    , async drawRegions(){\n      console.log('drawRegions')\n      this.working = true\n      const canvas = this.$refs.regionCanvas\n      const ctx = canvas.getContext('2d')\n      let regionData = await drawWorker.getImageData(canvas.width, canvas.height, this.seeds.positions, this.seeds.weights)\n      ctx.putImageData(regionData, 0, 0)\n      this.working = false\n    }\n    , async draw(){\n      this.working = true\n      const canvas = this.$refs.canvas\n      const ctx = canvas.getContext('2d')\n\n      let data = await this.redistricter.getImageData()\n      ctx.putImageData(data, 0, 0)\n      this.working = false\n    }\n    , async run(){\n      this.working = true\n      while ( !await this.redistricter.isDone() ){\n        this.step()\n      }\n      this.working = false\n    }\n    , async step(){\n      await this.redistricter.step()\n      await this.draw()\n      this.isDone = await this.redistricter.isDone()\n    }\n    , async adjustAndRestart(){\n      this.working = true\n      this.iteration++\n      // if ( this.iteration % 2 ){\n        await this.redistricter.adjustSeedPositions()\n      // } else {\n        // await this.redistricter.adjustWeights()\n      // }\n      await this.redistricter.restart()\n      await this.fetchSeeds()\n      await this.draw()\n      this.populationPercentDiff = await this.redistricter.getMaxPopulationDifferencePercentage()\n      this.isDone = false\n      this.working = false\n    }\n    , async adjustWeightsAndRestart(){\n      this.working = true\n      this.iteration++\n      // if ( this.iteration % 2 ){\n        // await this.redistricter.adjustSeedPositions()\n      // } else {\n        await this.redistricter.adjustWeights()\n      // }\n      await this.redistricter.restart()\n      await this.fetchSeeds()\n      await this.draw()\n      this.populationPercentDiff = await this.redistricter.getMaxPopulationDifferencePercentage()\n      this.isDone = false\n      this.working = false\n    }\n    , async fetchSeeds(){\n      this.seeds = {\n        positions: await this.redistricter.getSeedPositions()\n        , weights: await this.redistricter.getSeedWeights()\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"sass\" scoped>\n.wrap\n  padding: 1rem\ncanvas\n  border: 1px solid rgba(255, 255, 255, 0.3)\n.canvas\n  position: relative\n  canvas\n    position: absolute\n    top: 0\n    left: 0\n    z-index: 0\n  canvas:last-child\n    position: relative\n    z-index: 1\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./redistricter.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./redistricter.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./redistricter.vue?vue&type=template&id=9c95a58e&scoped=true&lang=pug&\"\nimport script from \"./redistricter.vue?vue&type=script&lang=js&\"\nexport * from \"./redistricter.vue?vue&type=script&lang=js&\"\nimport style0 from \"./redistricter.vue?vue&type=style&index=0&id=9c95a58e&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9c95a58e\",\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport Router from 'vue-router'\nimport Home from '@/pages/home'\nimport Redistricter from '@/pages/redistricter'\n\nVue.use(Router)\n\nexport default new Router({\n  routes: [\n    {\n      path: '/'\n      , name: 'home'\n      , component: Home\n    }\n    , {\n      path: '/redistrict'\n      , name: 'redistrict'\n      , component: Redistricter\n    }\n    , {\n      path: '*'\n      , redirect: { name: 'home' }\n    }\n  ]\n})\n","// import moment from 'moment'\n// import momentDurationFormatSetup from 'moment-duration-format'\nimport _capitalize from 'lodash/capitalize'\nimport _find from 'lodash/find'\nimport _filter from 'lodash/filter'\n\n// momentDurationFormatSetup(moment)\n\nfunction titleCase( str ){\n  return str.split(' ').map( w => _capitalize(w) ).join(' ')\n}\n\nconst numberRanges = [\n  { range: [1, 1e3], suffix: '', decimals: 0 }\n  , { range: [1e3, 1e6], suffix: 'k', decimals: 1 }\n  , { range: [1e6, 1e9], suffix: 'M', decimals: 1 }\n  , { range: [1e9, Infinity], suffix: 'B', decimals: 1 }\n]\n\nfunction shortNumber( n ){\n  if ( n === 0 ){\n    return '0'\n  }\n\n  let cfg = _find( numberRanges, cfg => (cfg.range[0] && n < cfg.range[1]) )\n  return (n / cfg.range[0]).toFixed( cfg.decimals ) + cfg.suffix\n}\n\nfunction duration( n ){\n  n = Math.round(n / 1000)\n  let hours   = Math.floor(n / 3600)\n  let minutes = Math.floor((n - (hours * 3600)) / 60)\n  let seconds = n - (hours * 3600) - (minutes * 60)\n  var fmt = ''\n\n  if ( hours !== 0 ){\n    if ( hours   < 10 ) { hours   = '0' + hours }\n    fmt = hours + ':'\n  }\n\n  if ( minutes < 10 ) { minutes = '0' + minutes }\n  if ( seconds < 10 ) { seconds = '0' + seconds }\n\n  fmt += `${minutes}:${seconds}`\n\n  return fmt\n}\n\nfunction truncate( str = '', len = 30, sfx = '...' ){\n  if ( str.length < len ){ return str }\n  return str.substr( 0, len - sfx.length ) + sfx\n}\n\nexport default {\n  install( Vue ){\n    Vue.filter('capitalize', _capitalize)\n    Vue.filter('titleCase', titleCase)\n    Vue.filter('filter', _filter)\n    Vue.filter('shortNumber', shortNumber)\n    Vue.filter('truncate', truncate)\n    Vue.filter('duration', duration)\n  }\n}\n","import Vue from 'vue'\nimport App from '@/app'\nimport router from '@/router'\nimport Filters from '@/plugins/filters'\nimport Buefy from 'buefy'\n\nimport '@mdi/font/css/materialdesignicons.css'\n// require styles\nimport './styles/main.scss'\n\nVue.use(Buefy, {\n  defaultContainerElement: '#app'\n  // , defaultIconPack: 'fas'\n})\n\nVue.use(Filters)\n\nVue.config.productionTip = false\n\nnew Vue({\n  render: h => h(App)\n  , router\n}).$mount('#app')\n","module.exports = function() {\n  return new Worker(__webpack_public_path__ + \"d63beed5f34b443169f1.worker.js\");\n};","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./redistricter.vue?vue&type=style&index=0&id=9c95a58e&lang=sass&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./redistricter.vue?vue&type=style&index=0&id=9c95a58e&lang=sass&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./home.vue?vue&type=style&index=0&id=1dab6a8c&lang=sass&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./home.vue?vue&type=style&index=0&id=1dab6a8c&lang=sass&scoped=true&\"","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./app.vue?vue&type=style&index=0&id=fdb58e64&lang=sass&scoped=true&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./app.vue?vue&type=style&index=0&id=fdb58e64&lang=sass&scoped=true&\""],"sourceRoot":""}