(function(e){function t(t){for(var r,a,o=t[0],c=t[1],u=t[2],h=0,d=[];h<o.length;h++)a=o[h],i[a]&&d.push(i[a][0]),i[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);l&&l(t);while(d.length)d.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],r=!0,o=1;o<n.length;o++){var c=n[o];0!==i[c]&&(r=!1)}r&&(s.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},i={app:0},s=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/redistrict-test/";var o=this["webpackJsonp"]=this["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var l=c;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var r,i=n("2b0e"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},a=[],o={name:"App",data:function(){return{}}},c=o,u=(n("ad17"),n("2877")),l=Object(u["a"])(c,s,a,!1,null,"fdb58e64",null),h=l.exports,d=n("8c4f"),f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[n("div",{staticClass:"columns"},[n("div",{staticClass:"column"},[n("div",{staticClass:"canvas"},[e.selectedBlock?n("div",{staticClass:"selected-block",style:{top:e.selectedBlock.position.y+"px",left:e.selectedBlock.position.x+"px"}}):e._e(),n("canvas",{ref:"canvas",attrs:{width:"500",height:"500"}}),n("canvas",{ref:"canvasTop",attrs:{width:"500",height:"500"},on:{mousemove:e.onMouseMove,mouseleave:function(t){e.seedIndex=-1}}})])]),n("div",{staticClass:"column"},[n("pre",[e._v("== Block Population Statistics ==\n"),e._l(e.blockStatistics,(function(t,n){return[e._v(e._s(n)+": "+e._s(t)+"\n")]}))],2),n("pre",[e._v("== Districts ==\nseed movement: "+e._s(e.seedMovement)+"\npopulation percent diff: "+e._s(e.populationPercentDiff)+"%\nnumber of unchosen blocks: "+e._s(e.numUnchosenBlocks))]),n("pre",[e._v("== Selected District ==\ndistrict: "+e._s(e.seedIndex)+"\ntarget population: "+e._s(e.districtInfo.targetPopulation)+"\npopulation: "+e._s(e.districtInfo.population)+"\nneeds: "+e._s(e.districtInfo.targetPopulation-e.districtInfo.population))]),e.selectedBlock?n("pre",[e._v("block ("+e._s(e.selectedBlock.position.x)+", "+e._s(e.selectedBlock.position.y)+")\npopulation: "+e._s(e.selectedBlock.population))]):e._e()])]),n("div",{staticClass:"controls"},[n("b-field",{attrs:{grouped:""}},[n("b-field",[n("b-select",{model:{value:e.overlayMode,callback:function(t){e.overlayMode=t},expression:"overlayMode"}},[n("option",{attrs:{value:"ranks"}},[e._v("Rank maps")]),n("option",{attrs:{value:"phi"}},[e._v("Phi maps")])])],1),n("b-field",[n("b-button",{on:{click:e.getOverlays}},[e._v("Draw Overlays")])],1),n("b-field",[n("b-button",{on:{click:e.drawPhiRegions}},[e._v("Draw Phi Gradients")])],1)],1),n("b-field",{attrs:{grouped:""}},[n("b-field",[n("b-button",{staticClass:"is-warning",attrs:{loading:e.isWorking},on:{click:e.restart}},[e._v("Restart")])],1),n("b-field",[n("b-switch",{model:{value:e.useTestData,callback:function(t){e.useTestData=t},expression:"useTestData"}},[e._v("Use Test Data")])],1),n("b-field",[e.useTestData?n("b-input",{attrs:{type:"number"},model:{value:e.numBlocks,callback:function(t){e.numBlocks=t},expression:"numBlocks"}}):n("b-select",{model:{value:e.dataFile,callback:function(t){e.dataFile=t},expression:"dataFile"}},e._l(e.DATAFILES,(function(t){return n("option",{domProps:{value:t.url}},[e._v(e._s(t.name))])})),0)],1)],1),n("b-field",{attrs:{grouped:""}},[n("b-field",{attrs:{label:"Number of Districts"}},[n("b-input",{attrs:{type:"number"},model:{value:e.numDistricts,callback:function(t){e.numDistricts=t},expression:"numDistricts"}})],1)],1),n("b-field",{staticClass:"is-marginless",attrs:{grouped:""}},[n("b-field",[n("b-switch",{model:{value:e.useSorting,callback:function(t){e.useSorting=t},expression:"useSorting"}},[e._v("Use Sorting")])],1),n("b-field",[n("b-switch",{model:{value:e.showAssignmentRegions,callback:function(t){e.showAssignmentRegions=t},expression:"showAssignmentRegions"}},[e._v("Show Assignment Regions")])],1)],1),n("b-field",{attrs:{grouped:""}},[n("b-field",[n("b-button",{attrs:{loading:e.isWorking},on:{click:e.selectBlocks}},[e._v("Select Blocks")])],1),n("b-field",[n("b-button",{attrs:{loading:e.isWorking},on:{click:e.adjustSeeds}},[e._v("Adjust Seeds")])],1),n("b-field",[n("b-button",{attrs:{loading:e.isWorking},on:{click:e.runUntilStable}},[e._v("Stablize Seeds")])],1),n("b-field",[n("b-button",{attrs:{loading:e.isWorking},on:{click:e.redistribute}},[e._v("Redistribute")])],1),n("b-field",[n("b-button",{staticClass:"is-primary",attrs:{loading:e.isWorking},on:{click:e.randomizeSeeds}},[e._v("Reshuffle Seeds")])],1)],1),n("b-field",{attrs:{grouped:""}},[n("b-field",[n("b-button",{staticClass:"is-primary is-large",attrs:{loading:e.isWorking},on:{click:e.run}},[e._v("Redistrict!")])],1)],1)],1),n("pre",{ref:"log",staticClass:"status-log"},[e._v(e._s(e.statusLog))])])},p=[],g=(n("96cf"),n("3b8d")),v=(n("c5f6"),n("fca0"),n("004e")),m=n.n(v),b=n("80f6"),w=n.n(b),k=n("0f32"),x=n.n(k),R=n("3d15"),y=n("85e2");function _(){return r=r||Object(R["a"])(y()),this instanceof _?Object(R["a"])(y()):r}n("2ef0");function D(e,t){var n=e.x-t.x,r=e.y-t.y;return n*n+r*r}var S=_(),j=[{name:"north carolina",url:"https://redistricter.s3.us-east-2.amazonaws.com/north-carolina/tabblock2010_37_pophu.shp"},{name:"colorado",url:"https://redistricter.s3.us-east-2.amazonaws.com/colorado/tabblock2010_08_pophu.shp"}],O={name:"Home",props:{},components:{},data:function(){return{working:0,loading:!1,statusLog:"",DATAFILES:j,dataFile:j[0].url,useTestData:!0,numBlocks:2e3,numDistricts:5,useSorting:!0,showAssignmentRegions:!1,seedIndex:-1,selectedBlock:null,overlayMode:"ranks",overlays:null,seedMovement:null,populationPercentDiff:null,districtInfo:{},numUnchosenBlocks:-1,blockStatistics:{}}},mounted:function(){this.init()},computed:{isWorking:function(){return this.working>0}},watch:{seedIndex:function(e){Number.isFinite(0|e)&&(this.drawOverlays(),this.getDistrictInfo())},overlayMode:function(){this.getOverlays()},useSorting:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.redistricter.enableSorting(this.useSorting);case 2:return e.next=4,this.redistricter.restart();case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),showAssignmentRegions:function(){this.working||this.drawRegions()},working:x()((function(e){this.loading=e>0}),200,{leading:!1})},methods:{log:function(e){!0===e?e="done\n":!1===e&&(e="FAILED\n"),this.statusLog+=e;var t=this.$refs.log;t.scrollTop=t.scrollHeight},init:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.working++,t=this.$refs.canvas,e.next=4,new S.Redistricter({blocks:0,seedCount:0|this.numDistricts,width:t.width,height:t.height,useSorting:this.useSorting});case 4:return this.redistricter=e.sent,e.next=7,this.restart();case 7:this.working--;case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),restart:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.working++,this.log("RESTART\n"),e.next=4,this.redistricter.setSeedCount(0|this.numDistricts);case 4:if(!this.useTestData){e.next=10;break}return this.log("Initializing test blocks... "),e.next=8,this.redistricter.useTestBlocks(0|this.numBlocks);case 8:e.next=13;break;case 10:return this.log("Fetching Blocks... "),e.next=13,this.redistricter.fetchBlocksFromShapefile(this.dataFile,{limit:-1});case 13:return this.log(!0),e.next=16,this.redistricter.getBlockStats();case 16:return this.blockStatistics=e.sent,this.log("Getting block coords... "),e.next=20,this.redistricter.getSeedPositions();case 20:return this.seedCoords=e.sent,e.next=23,this.redistricter.getBlocks();case 23:return this.blocks=e.sent,this.log(!0),e.next=27,this.drawRegions();case 27:this.working--;case 28:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getOverlays:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(){var t,n,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.working++,t="ranks"===this.overlayMode?"getRankMapFor":"getPhiMapFor",n=[],r=0;case 4:if(!(r<this.seedCoords.length)){e.next=12;break}return e.next=7,this.redistricter[t](r);case 7:i=e.sent,n.push(i);case 9:r++,e.next=4;break;case 12:this.overlays=n,this.working--;case 14:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),onMouseMove:function(e){if(this.seedCoords){var t=e.layerX,n=e.layerY;this.selectedBlock=w()(this.blocks,(function(e){return D({x:t,y:n},e.position)}));var r=w()(this.seedCoords,(function(e){return D({x:t,y:n},e)}));this.seedIndex=this.seedCoords.indexOf(r)}},drawImage:function(e,t){var n=e.getContext("2d");n.putImageData(t,0,0)},clearCanvas:function(e){var t=e.getContext("2d");t.clearRect(0,0,e.width,e.height)},getDistrictInfo:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(this.seedIndex<0)){e.next=3;break}return this.districtInfo={},e.abrupt("return");case 3:return e.next=5,this.redistricter.getDistrict(this.seedIndex);case 5:t=e.sent,this.districtInfo=t;case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),randomizeSeeds:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.working++,e.next=3,this.redistricter.randomizeSeeds();case 3:return e.next=5,this.drawRegions();case 5:this.working--;case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getInfo:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.redistricter.getMaxPopulationDifferencePercentage();case 2:return this.populationPercentDiff=e.sent,e.next=5,this.redistricter.getNumUnchosenBlocks();case 5:this.numUnchosenBlocks=e.sent;case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),selectBlocks:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.working++,this.log("Selecting blocks... "),this.overlays=null,e.next=5,this.redistricter.selectBlocks();case 5:return e.next=7,this.getInfo();case 7:if(this.log(!0),!0===t){e.next=11;break}return e.next=11,this.drawRegions();case 11:this.working--;case 12:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),runUntilStable:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=1e-6;case 1:return e.next=3,this.selectBlocks();case 3:return e.next=5,this.adjustSeeds(!0);case 5:if(this.seedMovement>t){e.next=1;break}case 6:return e.next=8,this.selectBlocks();case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),adjustSeeds:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.working++,this.log("Adjusting seed positions... "),e.next=4,this.redistricter.adjustSeedPositions();case 4:return this.seedMovement=e.sent,e.next=7,this.redistricter.getSeedPositions();case 7:return this.seedCoords=e.sent,e.next=10,this.redistricter.getBlocks();case 10:if(this.blocks=e.sent,this.log(!0),!0===t){e.next=15;break}return e.next=15,this.drawRegions();case 15:this.working--;case 16:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),redistribute:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(){var t,n,r,i,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.working++,t=this.populationPercentDiff,n=[],r=100,i=0;case 5:if(!(i++<r)){e.next=24;break}return this.log("Redistributing blocks (round ".concat(i,")... ")),e.next=9,this.redistricter.redistribute();case 9:return e.next=11,this.getInfo();case 11:return t=this.populationPercentDiff,this.log(!0),e.next=15,this.drawRegions();case 15:if(!(t<2)){e.next=22;break}if(!(n.length>10)){e.next=21;break}if(n.shift(),s=m()(n),!(t<=s)){e.next=21;break}return e.abrupt("break",24);case 21:n.push(t);case 22:e.next=5;break;case 24:this.working--;case 25:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),drawRegions:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.log("Drawing regions... "),!this.showAssignmentRegions){e.next=7;break}return e.next=4,this.redistricter.getAssignmentMap();case 4:this.regionsImage=e.sent,e.next=10;break;case 7:return e.next=9,this.redistricter.getRegionMap();case 9:this.regionsImage=e.sent;case 10:this.drawImage(this.$refs.canvas,this.regionsImage),this.log(!0);case 12:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),drawPhiRegions:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.working++,this.log("Drawing phi regions... "),e.next=4,this.redistricter.getPhiRegionMap();case 4:t=e.sent,this.drawImage(this.$refs.canvas,t),this.log(!0),this.working--;case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),drawOverlays:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(this.seedIndex<0)&&this.overlays){e.next=3;break}return this.clearCanvas(this.$refs.canvasTop),e.abrupt("return");case 3:this.working++,this.drawImage(this.$refs.canvasTop,this.overlays[this.seedIndex]),this.working--;case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),run:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=Date.now(),this.log("Starting redistrict process\n"),e.next=4,this.runUntilStable();case 4:return e.next=6,this.redistribute();case 6:n=(Date.now()-t)/1e3,this.log("Finished redistricting in ".concat(n.toFixed(3),"s\n"));case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},P=O,I=(n("a485"),Object(u["a"])(P,f,p,!1,null,"1dab6a8c",null)),C=I.exports,B=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"wrap"},[n("div",{staticClass:"canvas"},[n("canvas",{ref:"regionCanvas",attrs:{width:"500",height:"500"}}),n("canvas",{ref:"canvas",attrs:{width:"500",height:"500"}})]),n("div",{staticClass:"controls"},[n("p",[e._v("District Max Population Difference: "+e._s(e.populationPercentDiff)+"%")]),n("br"),e.isDone?e._e():n("b-field",{attrs:{grouped:""}},[n("b-field",[n("b-button",{attrs:{loading:e.working},on:{click:e.run}},[e._v("Run One Iteration")])],1),n("b-field",[n("b-button",{attrs:{loading:e.working},on:{click:e.step}},[e._v("Step")])],1)],1),e.isDone?n("b-field",{attrs:{grouped:""}},[n("b-field",[n("b-button",{attrs:{loading:e.working},on:{click:e.adjustAndRestart}},[e._v("Adjust Seed Positions")])],1),n("b-field",[n("b-button",{attrs:{loading:e.working},on:{click:e.adjustWeightsAndRestart}},[e._v("Adjust Seed Weights")])],1)],1):e._e()],1)])},M=[],A=_(),T=new _,F={name:"Redistricter",props:{},components:{},data:function(){return{working:!1,seeds:null,redistricter:null,isDone:!1,iteration:0,populationPercentDiff:0}},mounted:function(){var e=this;this.initRedistricter().then((function(){return e.drawRegions()})).catch((function(e){console.error(e)})).finally((function(){e.working=!1}))},watch:{seeds:function(){this.drawRegions()}},methods:{initRedistricter:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.working=!0,t=this.$refs.canvas,n=t.width,r=t.height,e.next=6,new A.Redistricter({seedCount:10,blockCount:1e3,width:n,height:r});case 6:return this.redistricter=e.sent,e.next=9,this.fetchSeeds();case 9:return e.next=11,this.draw();case 11:return e.next=13,this.redistricter.getMaxPopulationDifferencePercentage();case 13:this.populationPercentDiff=e.sent,this.working=!1;case 15:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),drawRegions:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("drawRegions"),this.working=!0,t=this.$refs.regionCanvas,n=t.getContext("2d"),e.next=6,T.getImageData(t.width,t.height,this.seeds.positions,this.seeds.weights);case 6:r=e.sent,n.putImageData(r,0,0),this.working=!1;case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),draw:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.working=!0,t=this.$refs.canvas,n=t.getContext("2d"),e.next=5,this.redistricter.getImageData();case 5:r=e.sent,n.putImageData(r,0,0),this.working=!1;case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),run:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.working=!0;case 1:return e.next=3,this.redistricter.isDone();case 3:if(e.sent){e.next=7;break}this.step(),e.next=1;break;case 7:this.working=!1;case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),step:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.redistricter.step();case 2:return e.next=4,this.draw();case 4:return e.next=6,this.redistricter.isDone();case 6:this.isDone=e.sent;case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),adjustAndRestart:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.working=!0,this.iteration++,e.next=4,this.redistricter.adjustSeedPositions();case 4:return e.next=6,this.redistricter.restart();case 6:return e.next=8,this.fetchSeeds();case 8:return e.next=10,this.draw();case 10:return e.next=12,this.redistricter.getMaxPopulationDifferencePercentage();case 12:this.populationPercentDiff=e.sent,this.isDone=!1,this.working=!1;case 15:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),adjustWeightsAndRestart:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.working=!0,this.iteration++,e.next=4,this.redistricter.adjustWeights();case 4:return e.next=6,this.redistricter.restart();case 6:return e.next=8,this.fetchSeeds();case 8:return e.next=10,this.draw();case 10:return e.next=12,this.redistricter.getMaxPopulationDifferencePercentage();case 12:this.populationPercentDiff=e.sent,this.isDone=!1,this.working=!1;case 15:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),fetchSeeds:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.redistricter.getSeedPositions();case 2:return e.t0=e.sent,e.next=5,this.redistricter.getSeedWeights();case 5:e.t1=e.sent,this.seeds={positions:e.t0,weights:e.t1};case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},W=F,$=(n("a070"),Object(u["a"])(W,B,M,!1,null,"9c95a58e",null)),U=$.exports;i["a"].use(d["a"]);var z=new d["a"]({routes:[{path:"/",name:"home",component:C},{path:"/redistrict",name:"redistrict",component:U},{path:"*",redirect:{name:"home"}}]}),E=(n("28a5"),n("e9a7")),L=n.n(E),N=n("2769"),G=n.n(N),H=n("9380"),J=n.n(H);function X(e){return e.split(" ").map((function(e){return L()(e)})).join(" ")}var Y=[{range:[1,1e3],suffix:"",decimals:0},{range:[1e3,1e6],suffix:"k",decimals:1},{range:[1e6,1e9],suffix:"M",decimals:1},{range:[1e9,1/0],suffix:"B",decimals:1}];function q(e){if(0===e)return"0";var t=G()(Y,(function(t){return t.range[0]&&e<t.range[1]}));return(e/t.range[0]).toFixed(t.decimals)+t.suffix}function K(e){e=Math.round(e/1e3);var t=Math.floor(e/3600),n=Math.floor((e-3600*t)/60),r=e-3600*t-60*n,i="";return 0!==t&&(t<10&&(t="0"+t),i=t+":"),n<10&&(n="0"+n),r<10&&(r="0"+r),i+="".concat(n,":").concat(r),i}function Q(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"...";return e.length<t?e:e.substr(0,t-n.length)+n}var V={install:function(e){e.filter("capitalize",L.a),e.filter("titleCase",X),e.filter("filter",J.a),e.filter("shortNumber",q),e.filter("truncate",Q),e.filter("duration",K)}},Z=n("289d");n("5363"),n("fb98");i["a"].use(Z["a"],{defaultContainerElement:"#app"}),i["a"].use(V),i["a"].config.productionTip=!1,new i["a"]({render:function(e){return e(h)},router:z}).$mount("#app")},"666f":function(e,t,n){},"82df":function(e,t,n){},"85e2":function(e,t,n){e.exports=function(){return new Worker(n.p+"d63beed5f34b443169f1.worker.js")}},a070:function(e,t,n){"use strict";var r=n("666f"),i=n.n(r);i.a},a485:function(e,t,n){"use strict";var r=n("82df"),i=n.n(r);i.a},ad17:function(e,t,n){"use strict";var r=n("c86d"),i=n.n(r);i.a},c86d:function(e,t,n){},fb98:function(e,t,n){}});
//# sourceMappingURL=app.6d4bc231.js.map